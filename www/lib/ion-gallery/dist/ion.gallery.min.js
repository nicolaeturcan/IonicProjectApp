!function(){"use strict";function e(e,n){function i(e){n.setGalleryLength(e.ionGalleryItems.length),n.setRowSize(parseInt(e.ionGalleryRow));for(var i=e.ionGalleryItems,t=[],o=n.getRowSize(),l=-1,a=0,r=0;r<i.length;r++)r%o===0&&(l++,t[l]=[],a=0),i[r].hasOwnProperty("sub")||(i[r].sub=""),t[l][a]=i[r],a++;e.items=t,e.responsiveGrid=parseInt(1/o*100)}function t(e,n,i){e.ionSliderToggle="false"===i.ionGalleryToggle?!1:!0}return i.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRow:"=ionGalleryRow"},controller:i,link:t,replace:!0,templateUrl:"gallery.html"}}angular.module("ion-gallery",["templates"]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryData"]}(),function(){"use strict";function e(){var e,n=3,i=this;this.setGalleryLength=function(n){e=n},this.getGalleryLength=function(){return e},this.setRowSize=function(e){var t=i.getGalleryLength;n=isNaN(e)===!0?3:e>t?t:0>=e?1:e},this.getRowSize=function(){return n}}angular.module("ion-gallery").service("ionGalleryData",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.bind("load",function(e){this.naturalHeight>this.naturalWidth?n.attr("width","100%"):n.attr("height",n.parent()[0].offsetHeight+"px")})}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageScale",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.css("height",n[0].offsetWidth*parseInt(e.$parent.responsiveGrid)/100+"px")}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionRowHeight",e),e.$inject=[]}(),function(){"use strict";function e(e,n){function i(i,t,o){var l=!1,a=function(){i.$emit(c()>1?"ZoomStarted":"ZoomOriginal")},r=function(e){l=!0,n(function(){l=!1,i.$emit("DoubleTapEvent",{x:e.gesture.touches[0].pageX,y:e.gesture.touches[0].pageY})},200)},s=function(e){l!==!0&&n(function(){l!==!0&&i.$emit("TapEvent")},200)},c=function(){var e=t[0].getElementsByClassName("scroll")[0].style.webkitTransform.match(/scale\(([^)]+)\)/);return parseFloat(e[1])},d=e.on("pinch",a,t),u=e.on("doubletap",function(e){r(e)},t),g=e.on("tap",s,t);i.$on("$destroy",function(){e.off(u,"doubletap",r),e.off(g,"tap",s),e.off(d,"pinch",a)})}return{restrict:"A",link:i}}angular.module("ion-gallery").directive("ionSlideAction",e),e.$inject=["$ionicGesture","$timeout"]}(),function(){"use strict";function e(e,n,i,t){function o(e){function o(){c=!1,d()}var l,a,r=n.getGalleryLength(),s=n.getRowSize(),c=!1;e.selectedSlide=1,e.hideAll=!1,e.showImage=function(n,i){e.slides=[],a=n*s+i;var t=a,o=t-1,c=t+1;0>o&&(o=r-1),c>=r&&(c=0),e.slides[0]=e.ionGalleryItems[o],e.slides[1]=e.ionGalleryItems[t],e.slides[2]=e.ionGalleryItems[c],l=1,e.loadModal()},e.slideChanged=function(n){if(n!==l){var i,o=e.slides.length-l-n;switch(l+">"+n){case"0>1":a++,i=a+1;break;case"1>2":a++,i=a+1;break;case"2>0":a++,i=a+1;break;case"0>2":a--,i=a-1;break;case"1>0":a--,i=a-1;break;case"2>1":a--,i=a-1}0>a&&(a=r-1),a>r&&(a=0),0>i&&(i=r+i),i>=r&&(i-=r),t.$getByHandle("slide-"+o).zoomTo(1),e.slides[o]=e.ionGalleryItems[i],l=n}},e.$on("ZoomStarted",function(n){i(function(){c=!0,e.hideAll=!0})}),e.$on("ZoomOriginal",function(e){i(function(){o()},300)}),e.$on("TapEvent",function(e){i(function(){d()})}),e.$on("DoubleTapEvent",function(e,n){i(function(){u(n)})});var d=function(){return c===!0?(t.$getByHandle("slide-"+l).zoomTo(1,!0),void i(function(){o()},300)):void(e.hasOwnProperty("ionSliderToggle")&&e.ionSliderToggle===!1&&e.hideAll===!1||c===!0||(e.hideAll=!e.hideAll))},u=function(n){c===!1?(t.$getByHandle("slide-"+l).zoomTo(3,!0,n.x,n.y),c=!0,e.hideAll=!0):d()}}function l(n,i,t){var o;n.loadModal=function(){e.fromTemplateUrl("slider.html",{scope:n,animation:"fade-in"}).then(function(e){o=e,n.openModal()})},n.openModal=function(){o.show()},n.closeModal=function(){o.hide()},n.$on("$destroy",function(){o.remove()})}return o.$inject=["$scope"],{restrict:"A",controller:o,link:l}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","ionGalleryData","$timeout","$ionicScrollDelegate"]}(),angular.module("templates",[]).run(["$templateCache",function(e){e.put("gallery.html",'<div class="gallery-view">\n  <div class="row" ng-repeat="item in ::items" ion-row-height>\n    <div ng-repeat="photo in ::item track by $index"\n         class="col col-{{::responsiveGrid}} image-container">\n      \n      <img ion-image-scale\n           ng-src="{{::photo.src}}"\n           ng-click="showImage({{::$parent.$index}},{{::$index}})">\n      \n    </div>\n  </div>\n  <div ion-slider></div>\n</div>'),e.put("slider.html",'<ion-modal-view class="blackBackground imageView">\n  <ion-header-bar class="headerView" ng-show="!hideAll">\n    <button class="button button-outline button-light close-btn" ng-click="closeModal()">Done</button>\n  </ion-header-bar>\n    \n  <ion-content class="has-no-header" scroll="false">\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\n      <ion-slide ng-repeat="single in slides track by $index">\n        <ion-scroll direction="xy"\n                    locking="false" \n                    zooming="true"\n                    min-zoom="1"\n                    scrollbar-x="false"\n                    scrollbar-y="false"\n                    class="animate modal-content"\n                    ion-slide-action\n                    delegate-handle="slide-{{::$index}}"\n                    >\n        <div class="item item-image centerPictureVertical gallery-slide-view">\n          <img ng-src="{{single.src}}">\n        </div>\n        <div ng-if="single.sub.length > 0" class="image-subtitle" ng-show="!hideAll">\n            <span ng-bind-html=\'single.sub\'></span>\n        </div>\n        </ion-scroll>\n      </ion-slide>\n    </ion-slide-box>\n  </ion-content>\n</ion-modal-view>')}]);